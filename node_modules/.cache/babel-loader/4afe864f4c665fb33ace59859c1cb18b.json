{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nconst usePost = (url, data) => {\n  _s();\n\n  const [errMsg, setErrmsg] = useState(null);\n  const history = useHistory();\n  fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(res => {\n    setErrmsg(null);\n    return res.json().then(err => {\n      if (err.message === \"CleanRun\") {\n        history.push(\"/login\");\n      } else {\n        setErrmsg(err.message);\n      }\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n  return {\n    errMsg\n  };\n};\n\n_s(usePost, \"eS0D28i2cQ6k4Wn64qaFq1yAP2s=\", false, function () {\n  return [useHistory];\n});\n\nexport default usePost;","map":{"version":3,"sources":["/home/mukilan/Desktop/Web-App/Mini-Blog/src/component/server_fetch/usePost.js"],"names":["useHistory","useState","usePost","url","data","errMsg","setErrmsg","history","fetch","method","headers","body","JSON","stringify","then","res","json","err","message","push","catch","console","log"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,kBAA3B;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,OAAO,GAAG,CAACC,GAAD,EAAMC,IAAN,KAAe;AAAA;;AAC7B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC,IAAD,CAApC;AACA,QAAMM,OAAO,GAAGP,UAAU,EAA1B;AACAQ,EAAAA,KAAK,CAACL,GAAD,EAAM;AACTM,IAAAA,MAAM,EAAE,MADC;AAETC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFA;AAGTC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AAHG,GAAN,CAAL,CAKGU,IALH,CAKSC,GAAD,IAAS;AACbT,IAAAA,SAAS,CAAC,IAAD,CAAT;AACA,WAAOS,GAAG,CAACC,IAAJ,GAAWF,IAAX,CAAiBG,GAAD,IAAS;AAC9B,UAAIA,GAAG,CAACC,OAAJ,KAAgB,UAApB,EAAgC;AAC9BX,QAAAA,OAAO,CAACY,IAAR,CAAa,QAAb;AACD,OAFD,MAEO;AACLb,QAAAA,SAAS,CAACW,GAAG,CAACC,OAAL,CAAT;AACD;AACF,KANM,CAAP;AAOD,GAdH,EAeGE,KAfH,CAeUH,GAAD,IAAS;AACdI,IAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD,GAjBH;AAkBA,SAAO;AAAEZ,IAAAA;AAAF,GAAP;AACD,CAtBD;;GAAMH,O;UAEYF,U;;;AAsBlB,eAAeE,OAAf","sourcesContent":["import { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nconst usePost = (url, data) => {\n  const [errMsg, setErrmsg] = useState(null);\n  const history = useHistory();\n  fetch(url, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  })\n    .then((res) => {\n      setErrmsg(null);\n      return res.json().then((err) => {\n        if (err.message === \"CleanRun\") {\n          history.push(\"/login\");\n        } else {\n          setErrmsg(err.message);\n        }\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  return { errMsg };\n};\n\nexport default usePost;\n"]},"metadata":{},"sourceType":"module"}